({337:function(){var t=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(i,c){function s(t){try{d(o.next(t))}catch(t){c(t)}}function r(t){try{d(o.throw(t))}catch(t){c(t)}}function d(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,r)}d((o=o.apply(t,e||[])).next())}))};let e=!1;document.addEventListener("keydown",(function(t){"Shift"===t.key&&(e=!0,c())})),document.addEventListener("mouseup",(function(){c()}));function n(t,e){""!==t.trim()&&chrome.storage.sync.get("tasks",(function(n){const o=n.tasks||[],i=Date.now(),c=Math.random().toString(36).substring(2,12);o.find((e=>e.text===t))||(o.unshift({text:t,website:e,timeAdded:i,id:c,type:"confirmed"}),chrome.storage.sync.set({tasks:o}))}))}chrome.runtime.onMessage.addListener((function(e,o,c){return t(this,void 0,void 0,(function*(){const t=e.action;if(console.log(e),"addToSidePanel"===t){const t=e.value||window.getSelection().toString(),o=location.href;console.log("got it"),n(t,o),chrome.runtime.sendMessage({action:"sendUpdated"})}"highlightMatches"===t&&"mail.google.com"===location.host&&i()}))}));const o=/[\w.-]+@[\w.-]+\.[a-zA-Z]{2,}/g;function i(){return t(this,void 0,void 0,(function*(){const t=function(t){const e=[];return t.forEach((t=>{const n=t.text.match(o);n&&e.push(...n)})),e}(yield new Promise(((t,e)=>{chrome.storage.sync.get("tasks",(e=>{const n=e.tasks||[];t(n)}))})));document.querySelectorAll(".bog").forEach((e=>{let n=!1;t.forEach((t=>{e.textContent.includes(t)&&(n=!0,e.style.backgroundColor="yellow",e.style.fontWeight="bold")})),n||(e.style.backgroundColor="",e.style.fontWeight="")}))}))}function c(){const t=window.getSelection().toString().trim();e&&t.length>0&&(n(t,location.href),chrome.runtime.sendMessage({action:"sendUpdated"}))}new MutationObserver(i).observe(document.body,{childList:!0,subtree:!0}),document.addEventListener("DOMContentLoaded",(()=>{setTimeout(i,3e3),document.addEventListener("dragstart",(t=>{window.getSelection().toString().length}))})),document.addEventListener("keyup",(t=>{"Shift"===t.key&&(e=!1)}))}})[337]();